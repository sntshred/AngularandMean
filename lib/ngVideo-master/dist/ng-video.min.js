/*! ng-video by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-10-25 */
!function(a){"use strict";var b=a.module("ngVideo",[]);b.constant("ngVideoConstants",{RESTRICT:"EA"}),b.directive("ngVideo",["$sce","$timeout","ngVideoConstants",function(a,b,c){return{restrict:c.RESTRICT,scope:{"interface":"=ngModel"},require:"?ngModel",transclude:!0,template:'<video ng-src="{{trustResource(video)}}"></video><section ng-transclude class="ng-video-items"></section>',controller:["$scope",function(c){c.isPaused=!0,c.collection=[],c.videoElement={},c.trustResource=function(b){return a.trustAsResourceUrl(b)},c.getControls=function(){return{play:function(){c.videoElement.play(),c.isPaused=!1},pause:function(){c.videoElement.pause(),c.isPaused=!0},stop:function(){c.videoElement.pause(),c.isPaused=!0},playPause:function(){return c.isPaused?void this.play():void this.pause()}}},c.getSources=function(){return{add:function(a){c.collection.push(a);var b=c.videoElement.autoplay===!0;return b&&!c.video&&1===this.all().length&&(c.video=a,c.getControls().play()),a},remove:function(a){var b=c.collection.indexOf(a);c.collection.splice(b,1)},all:function(){return c.collection},clear:function(){c.collection.length=0}}},c.getOptions=function(){return{setAutoplay:function(a){c.videoElement.autoplay=!!a},isAutoplay:function(){return c.videoElement.autoplay}}},c.attachInterface=function(){c.interface.controls=c.getControls(),c.interface.sources=c.getSources(),c.interface.options=c.getOptions()},c.interface&&(c.attachInterface(),b(function(){c.$emit("$videoReady")}))}],link:function(a,b){a.videoElement=b.find("video")[0]}}}])}(window.angular);